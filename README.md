# 概要
 平滑化とマッピングを介した密結合ライダー慣性オドメトリのフレームワーク、LIO-SAM を提案します。これは、高精度でリアルタイムのモバイル ロボット軌道推定とマップ構築を実現します。 LIO-SAM は、ファクター グラフの上に LIDAR 慣性オドメトリを定式化し、ループ クロージャを含む多数の相対および絶対測定値をさまざまなソースからシステムにファクターとして組み込むことを可能にします。 慣性計測ユニット (IMU) の事前統合から推定されたモーションは、点群の歪みを補正し、LIDAR オドメトリ最適化の初期推定を生成します。 得られた LIDAR オドメトリ ソリューションは、IMU のバイアスを推定するために使用されます。 リアルタイムで高いパフォーマンスを確保するために、LIDAR スキャンをグローバル マップに一致させるのではなく、ポーズの最適化のために古い LIDAR スキャンを無視します。 グローバル スケールではなくローカル スケールでのスキャン マッチングにより、システムのリアルタイム パフォーマンスが大幅に向上します。キーフレームの選択的な導入や、新しいキーフレームを以前の固定サイズのセットに登録する効率的なスライディング ウィンドウ アプローチも同様です。 「サブキーフレーム」。 提案された方法は、さまざまな規模と環境で 3 つのプラットフォームから収集されたデータセットで広く評価されます。

# I. 序章
 状態の推定、ローカリゼーション、およびマッピングは、インテリジェント モバイル ロボットを成功させるための基本的な前提条件であり、フィードバック制御、障害物回避、および計画など、他の多くの機能に必要です。 ビジョンベースおよびライダーベースのセンシングを使用して、モバイル ロボットの 6 自由度の状態推定をサポートできる高性能リアルタイム同時ローカライゼーションおよびマッピング (SLAM) を実現するために多大な努力が払われてきました。 ビジョンベースの方法では、通常、単眼カメラまたはステレオ カメラを使用し、連続する画像の特徴を三角測量してカメラの動きを決定します。 視覚ベースの方法は特に場所の認識に適していますが、自律ナビゲーション システムをサポートするために単独で使用する場合、初期化、照明、範囲に対する感度が高いため、信頼性が低くなります。 一方、ライダーベースの方法は、照明の変化に対してほとんど不変です。 特に、Velodyne VLS-128 や Ouster OS1-128 などの長距離、高解像度 3D ライダーが最近利用可能になったことで、ライダーは 3D 空間内の環境の詳細を直接キャプチャするのにより適したものになりました。 したがって、このホワイト ペーパーでは、LIDAR ベースの状態推定とマッピング方法に焦点を当てます。 過去 20 年間に、多くの LIDAR ベースの状態推定およびマッピング手法が提案されてきました。 その中でも、低ドリフトでリアルタイムの状態推定とマッピングのために [1] で提案されているライダー オドメトリとマッピング (LOAM) 法は、最も広く使用されている方法の 1 つです。 LIDAR と慣性計測ユニット (IMU) を使用する LOAM は、最先端のパフォーマンスを実現し、KITTI オドメトリ ベンチマーク サイトでのリリース以来、最高の LIDAR ベースの方法としてランク付けされています [2]。 その成功にもかかわらず、LOAM にはいくつかの制限があります。そのデータをグローバル ボクセル マップに保存することによって、ループ クロージャ検出を実行し、姿勢補正のために GPS などの他の絶対測定値を組み込むことがしばしば困難になります。 機能が豊富な環境でこのボクセル マップが密集すると、オンライン最適化プロセスの効率が低下します。 また、LOAM はスキャン マッチング ベースの手法であるため、大規模なテストではドリフトの影響を受けます。<br>
  この論文では、前述の問題に対処するために、スムージングとマッピングを介した密結合ライダー慣性オドメトリのフレームワーク、LIO-SAM を提案します。 点群デスキューの非線形モーション モデルを想定し、生の IMU 測定値を使用して LIDAR スキャン中のセンサー モーションを推定します。 点群の歪みを補正することに加えて、推定されたモーションは LIDAR オドメトリ最適化の初期推定として機能します。 得られた LIDAR オドメトリ ソリューションは、ファクター グラフで IMU のバイアスを推定するために使用されます。 ロボットの軌道推定にグローバル ファクター グラフを導入することで、LIDAR と IMU の測定値を使用してセンサー フュージョンを効率的に実行し、ロボットのポーズに場所認識を組み込み、GPS 測位やコンパスの方位などの絶対測定値を利用できる場合は導入できます。 さまざまなソースからの要因のこのコレクションは、グラフの共同最適化に使用されます。 さらに、スキャンを LOAM のようなグローバル マップに一致させるのではなく、姿勢の最適化のために古い LIDAR スキャンを無視します。 グローバル スケールではなくローカル スケールでのスキャン マッチングにより、システムのリアルタイム パフォーマンスが大幅に向上し、キーフレームの選択的導入や、新しいキーフレームを固定サイズ セットに登録する効率的なスライディング ウィンドウ アプローチも同様です。 以前の「サブキーフレーム」の。 私たちの仕事の主な貢献は、次のように要約できます。<br>
<br>
- マルチセンサーフュージョンとグローバル最適化に適した、ファクターグラフの上に構築された密結合ライダー慣性オドメトリーフレームワーク。
<br>
- 選択的に選択された新しいキーフレームを以前のサブキーフレームの固定サイズのセットに登録することにより、リアルタイムのパフォーマンスを可能にする効率的なローカル スライディング ウィンドウ ベースのスキャン マッチング アプローチ。
<br>
- 提案されたフレームワークは、さまざまな規模、車両、および環境にわたるテストで広範に検証されています。
<br>
 * 図 1 *<br>
<br>
*** 以下 未要約 ***
<br>
# II. 関連作業
 ライダーのオドメトリは通常、ICP [3] や GICP [4] などのスキャン マッチング手法を使用して、2 つの連続するフレーム間の相対的な変換を見つけることによって実行されます。 完全な点群を照合する代わりに、機能ベースの照合方法が計算効率のために一般的な代替手段になりました。 たとえば、[5] では、リアルタイムのライダー オドメトリ用に平面ベースのレジストレーション アプローチが提案されています。 構造化された環境での運用を想定して、点群から平面を抽出し、最小二乗問題を解くことによってそれらを一致させます。 [6] では、オドメトリ推定のためにカラー ライン ベースの方法が提案されています。この方法では、線分は元の点群からランダムに生成され、後で登録に使用されます。 ただし、スキャンの点群は、最新の 3D LIDAR の回転メカニズムとセンサーの動きのために、しばしば歪んでいます。姿勢推定に LIDAR のみを使用することは理想的ではありません。これは、歪んだポイント クラウドまたはフィーチャを使用したレジストレーションが最終的に大きなドリフトを引き起こすためです。<br>
 したがって、LIDAR は通常、IMU や GPS などの他のセンサーと組み合わせて、状態の推定とマッピングに使用されます。 センサー融合を利用するこのような設計スキームは、通常、疎結合融合と密結合融合の 2 つのカテゴリに分類できます。 LOAM [1] では、LIDAR スキャンの歪みを補正し、スキャン マッチングの前にモーションを与えるために IMU が導入されています。 ただし、IMU はアルゴリズムの最適化プロセスには関与しません。 したがって、LOAM は疎結合方式に分類できます。 軽量で地上に最適化されたライダーのオドメトリおよびマッピング (LeGO-LOAM) メソッドが、[7] で地上車両マッピング タスク用に提案されています [8]。 IMU 測定値の融合は、LOAM と同じです。 疎結合融合のより一般的なアプローチは、拡張カルマン フィルター (EKF) を使用することです。 たとえば、[9]-[13] は、ロボットの状態推定の最適化段階で EKF を使用して、LIDAR、IMU、およびオプションで GPS からの測定値を統合します。<br>
 密結合システムは通常、精度が向上し、現在進行中の研究の主な焦点となっています [14]。 [15] では、事前に統合された IMU 測定値が、点群の歪みを補正するために利用されています。 ロボセントリック ライダー慣性状態推定器 LINS は、[16] に示されています。 地上車両用に特別に設計された LINS は、エラー状態カルマン フィルターを使用して、ロボットの状態推定を再帰的に密結合方式で修正します。 密結合ライダー慣性オドメトリおよびマッピング フレームワークである LIOM は、[17] で紹介されています。 LIO-mapping の略語である LIOM は、LIDAR と IMU からの測定値を共同で最適化し、LOAM と比較して同等またはそれ以上の精度を達成します。 LIOM はすべてのセンサー測定値を処理するように設計されているため、リアルタイムのパフォーマンスは達成されません。テストでは約 0.6 倍のリアルタイムで実行されます。<br>
<br>
# III. スムージングとマッピングによる LIDAR 慣性オドメトリー
## A. システム概要
 最初に、このペーパー全体で使用するフレームと表記法を定義します。 世界座標系を W、ロボット本体座標系を B とします。また、便宜上、IMU 座標系はロボット本体座標系と一致すると仮定します。 ロボットの状態 x は次のように記述できます。<br>
<br>
* 式 (1) *
<br>
ここで、R ∈ SO(3) は回転行列、p ∈ R^3 は位置ベクトル、v は速度、b は IMU バイアスです。 B から W への変換 T ∈ SE(3) は、次のように表されます。 T = [R | p].
 提案されたシステムの概要を図 1 に示します。システムは、3D ライダー、IMU、およびオプションで GPS からセンサー データを受信します。 これらのセンサーの観測を使用して、ロボットの状態とその軌道を推定しようとします。 この状態推定問題は、最大事後確率 (MAP) 問題として定式化できます。 この問題をモデル化するためにファクター グラフを使用します。これは、ベイズ ネットよりも推論の実行に適しているためです。 ガウス ノイズ モデルを仮定すると、この問題の MAP 推論は、非線形最小二乗問題を解くことと同じになります [18]。 一般性を失うことなく、提案されたシステムは、高度計からの高度やコンパスからの方位など、他のセンサーからの測定値を組み込むこともできることに注意してください。<br>

 ファクター グラフを作成するために、4 つのタイプのファクターと 1 つの変数タイプを紹介します。 特定の時間におけるロボットの状態を表すこの変数は、グラフのノードに属します。 4 つのタイプの係数は、(a) IMU 統合前係数、(b) ライダー オドメトリ係数、(c) GPS 係数、および (d) ループ クロージャ係数です。 ロボットの姿勢の変化がユーザー定義のしきい値を超えると、新しいロボット状態ノード x がグラフに追加されます。 ファクター グラフは、増分平滑化とベイズ ツリー (iSAM2) [19] によるマッピングを使用して、新しいノードの挿入時に最適化されます。 これらの要因を生成するプロセスについては、次のセクションで説明します。<br>

## B. IMU 統合前因子
IMU からの角速度と加速度の測定値は、式を使用して定義されます。 2 と 3:<br>
<br>
 * 式 (2) *<br>
 * 式 (3) *<br>
<br>
ここで、ω̂_t と â_t は、時間 t における B の生の IMU 測定値です。 ω̂_t と â_t は、ゆっくりと変化するバイアス b_t とホワイトノイズ n_t の影響を受けます。 (R_t)^(BW) は W から B への回転行列です。g は W の定数重力ベクトルです。<br>
  IMU からの測定値を使用して、ロボットの動きを推測できるようになりました。 時間 t + Δt におけるロボットの速度、位置、および回転は、次のように計算できます。<br>
<br>
  * 式 (4) *<br>
  * 式 (5) *<br>
  * 式 (6) *<br>
<br>
ここで、R_t = (R_t)^(WB) = (R_t)^((BW)^T)。 ここで、t の角速度と B の加速度が上記の積分の間一定のままであると仮定します。<br>
  次に、[20] で提案されている IMU 事前統合法を適用して、2 つのタイムステップ間の相対的な身体運動を取得します。 時刻 i と j の間の事前に統合された測定値 ∆v_ij 、 ∆p_ij 、および ∆R_ij は、次を使用して計算できます。<br>
<br>
  * 式 (7) *<br>
  * 式 (8) *<br>
  * 式 (9) *<br>
<br>
紙面の都合上、方程式の詳細な導出については [20] の説明を参照してください。 7 - 9. その効率性に加えて、IMU 事前統合を適用すると、因子グラフに 1 つのタイプの制約 (IMU 事前統合因子) も自然に与えられます。 IMU バイアスは、グラフの LIDAR オドメトリ ファクターと一緒に最適化されます。<br>
<br>
## C. LIDAR オドメトリ係数
 新しい LIDAR スキャンが到着すると、まず特徴抽出を実行します。 エッジと平面の特徴は、局所領域上の点の粗さを評価することによって抽出されます。 粗さの値が大きいポイントは、エッジ フィーチャとして分類されます。 同様に、平面フィーチャは小さな粗さ値によって分類されます。 時間 i での LIDAR スキャンから抽出されたエッジと平面の特徴をそれぞれ F_i^e と F_i^p として示します。時間 i で抽出されたすべてのフィーチャは、LIDAR フレーム F_i を構成します。ここで、F_i = {F_i^e , F_i^p } です。 LIDAR フレーム F は B で表されていることに注意してください。特徴抽出プロセスのより詳細な説明は、[1]、または距離画像が使用されている場合は [7] にあります。<br>
 すべての LIDAR フレームを使用して計算し、グラフに係数を追加することは計算上困難であるため、ビジュアル SLAM 分野で広く使用されているキーフレーム選択の概念を採用しています。 シンプルだが効果的なヒューリスティックなアプローチを使用して、ロボットのポーズの変化が以前の状態 x_i と比較してユーザー定義のしきい値を超えたときに、LIDAR フレーム F_(i+1) をキーフレームとして選択します。 新しく保存されたキーフレーム F_(i+1) は、ファクター グラフ内の新しいロボット状態ノード x_(i+1) に関連付けられます。 2 つのキーフレーム間の LIDAR フレームは破棄されます。 このようにキーフレームを追加すると、マップの密度とメモリ消費のバランスがとれるだけでなく、リアルタイムの非線形最適化に適した比較的まばらなファクター グラフを維持するのにも役立ちます。 私たちの作業では、新しいキーフレームを追加するための位置と回転の変更しきい値は、1m と 10° に選択されています。<br>
 新しい状態ノード x_(i+1) を因子グラフに追加したいとします。 この状態に関連付けられている LIDAR キーフレームは F_(i+1) です。 LIDAR オドメトリ係数の生成については、次の手順で説明します。<br>
 1) ボクセル マップのサブキーフレーム: スライディング ウィンドウ アプローチを実装して、固定数の最近の LIDAR スキャンを含むポイント クラウド マップを作成します。 2 つの連続した LIDAR スキャン間の変換を最適化する代わりに、サブキーフレームと呼ばれる最新の n 個のキーフレームを推定のために抽出します。 サブキーフレーム {F_(i-n), ..., F_i} のセットは、それらに関連付けられた変換 {T_(i-n), ..., T_i} を使用してフレーム W に変換されます。 変換されたサブキーフレームは、ボクセル マップ M_i にマージされます。 前の特徴抽出ステップで 2 種類の特徴を抽出するため、M_i は、エッジ特徴ボクセル マップ M_i^e と平面特徴ボクセル マップ M_i^p で示される 2 つのサブボクセル マップで構成されます。 LIDAR フレームとボクセル マップは、次のように相互に関連付けられています。<br>
<br>
 * 謎の式 *<br>
<br> 
F_i^e と F_i^p は、W の変換されたエッジと平面の特徴です。次に、M_i^e と M_i^p をダウンサンプリングして、同じボクセル セルに含まれる重複した特徴を削除します。 この論文では、n は 25 に選択されています。M_i^e と M_i^p のダウンサンプル解像度は、それぞれ 0.2m と 0.4m です。<br>
 2) スキャンマッチング: 新たに取得した LIDAR フレーム F_(i+1) (これも {F_(i+1)^e , F_(i+1)^p}) をスキャンマッチングにより M_i に一致させます。 この目的のために、[3] や [4] などのさまざまなスキャン マッチング方法を利用できます。 ここでは、[1] で提案されている方法を使用することを選択します。これは、さまざまな困難な環境での計算効率と堅牢性のためです。 最初に {F_(i+1)^e, F_(i+1)^p} を B から W に変換し、{'F_(i+1)^e, 'F_(i+1)^p} を取得します。 この初期変換は、IMU から予測されたロボットの動き T̃_(i+1) を使用して取得されます。'F_(i+1)^e または 'F_(i+1)^p の各フィーチャについて、M_i^e または M_i^p でエッジまたは平面の対応を見つけます。 簡潔にするために、これらの対応を見つけるための詳細な手順はここでは省略されますが、[1] で詳しく説明されています。<br>
 3) 相対変換: フィーチャとそのエッジまたは平面パッチの対応関係との間の距離は、次の式を使用して計算できます。<br>
<br>
 * 式 (10) *<br>
 * 式 (11) *<br>
<br>
ここで、k、u、v、および w は、対応するセットの特徴インデックスです。 エッジ フィーチャ p_(i+1)^e の場合、'F_(i+1)^e の k、p_(i, u)^e および p_(i, v)^e は、対応するエッジを形成するポイントです。 M_i^e の行。 平面フィーチャ p_(i+1, k)^p in 'F_(i+1)^p、p_(i, u)^p、p_(i, v)^p、および p_(i, w) ^p は M_i^p の対応する平面パッチを形成します。 次に、ガウス・ニュートン法を使用して、以下を最小化することで最適な変換を解決します。<br>
<br>
 * 謎の式 *<br>
<br>
最後に、x_i と x_(i+1) の間の相対変換 ΔT_(i, i+1) を取得できます。これは、これら 2 つのポーズをリンクする LIDAR オドメトリ係数です。<br>
<br>
 * 式 (12) *<br>
<br>
 ΔT_(i, i+1) を取得する別の方法は、サブキーフレームを x_i のフレームに変換することです。 つまり、 F_(i+1) を x_i のフレームで表されるボクセル マップに一致させます。 このようにして、実際の相対変換 ΔT_(i, i+1) を直接取得できます。 変換された機能 'F_i^e および 'F_i^p は複数回再利用できるため、代わりに、計算効率のためにセクション III-C.1 で説明されているアプローチを使用することを選択します。<br>
<br>
## D. GPS ファクター
 IMU の事前統合とライダーのオドメトリ係数のみを利用して、信頼性の高い状態推定とマッピングを取得できますが、システムは、長時間のナビゲーションタスク中に依然としてドリフトに悩まされています。 この問題を解決するために、ドリフトを排除するための絶対測定を提供するセンサーを導入することができます。 このようなセンサーには、高度計、コンパス、GPS などがあります。 ここでは、実世界のナビゲーション システムで広く使用されている GPS について説明します。<br>
 GPS 測定値を受信すると、[21] で提案されている方法を使用して、最初にそれらをローカルデカルト座標フレームに変換します。 ファクター グラフに新しいノードを追加すると、新しい GPS ファクターをこのノードに関連付けます。 GPS 信号が LIDAR フレームとハードウェアで同期されていない場合、LIDAR フレームのタイムスタンプに基づいて GPS 測定値を線形に補間します。<br>
 LIDAR 慣性オドメトリのドリフトは非常にゆっくりと増加するため、GPS 受信が利用可能な場合に GPS 係数を常に追加する必要はないことに注意してください。 実際には、推定された位置の共分散が受信した GPS 位置の共分散よりも大きい場合にのみ、GPS 係数を追加します。<br>
<br>
 * 図 2 *<br>
<br>
## E. ループ閉鎖係数<br>
 LOAM や LIOM とは対照的に、ファクター グラフを利用することで、提案されたシステムにループ クロージャをシームレスに組み込むこともできます。 説明の目的で、単純だが効果的なユークリッド距離ベースのループ クロージャ検出アプローチについて説明し、実装します。 また、提案されたフレームワークは、点群記述子を生成して場所認識に使用する [22] や [23] など、ループ クロージャ検出の他の方法と互換性があることにも注意してください。<br>
 新しい状態 x_(i+1) が因子グラフに追加されると、まずグラフを検索し、ユークリッド空間で x_(i+1) に近い前の状態を見つけます。 たとえば、図 1 に示すように、x_3 は返された候補の 1 つです。 次に、スキャン マッチングを使用して、F_(i+1) をサブキーフレーム {F_(3−m), ..., F_3 , ..., F_(3+m)} に一致させようとします。 F_(i+1) と過去のサブキーフレームは、スキャン マッチングの前に最初に W に変換されることに注意してください。 相対変換 ΔT_(3, i+1) を取得し、それをループ クロージャー ファクターとしてグラフに追加します。 このホワイト ペーパー全体を通して、インデックス m を 12 に選択し、ループ クロージャの検索距離を新しい状態 x_(i+1) から 15m に設定します。<br>
 実際には、GPS が利用可能な唯一の絶対センサーである場合、ロボットの高度のドリフトを修正するために、ループ クロージャー ファクターを追加することが特に有用であることがわかります。 これは、GPS からの標高測定が非常に不正確であるためです。ループ クロージャーがない場合、テストでは 100m に近い高度エラーが発生します。<br>
<br>
# IV. 実験
 ここで、提案されたフレームワークを定性的および定量的に分析するための一連の実験について説明します。 このホワイト ペーパーで使用されているセンサー スイートには、Velodyne VLP-16 ライダー、MicroStrain 3DM-GX5-25 IMU、および Reach M GPS が含まれています。 検証のために、さまざまな規模、プラットフォーム、環境で 5 つの異なるデータセットを収集しました。 これらのデータセットは、それぞれローテーション、ウォーキング、キャンパス、パーク、アムステルダムと呼ばれます。 センサー取り付けプラットフォームを図 2 に示します。 最初の 3 つのデータセットは、MIT キャンパスで特注のハンドヘルド デバイスを使用して収集されました。 Park データセットは、無人地上車両 (UGV) である Clearpath Jackal を使用して、植生に覆われた公園で収集されました。最後のデータセットであるアムステルダムは、センサーをボートに取り付け、アムステルダムの運河をクルージングすることによって収集されました。 これらのデータセットの詳細を表 I に示します。<br>
<br>
 * 表 I *<br>
<br>
 提案された LIO-SAM フレームワークを LOAM および LIOM と比較します。 すべての実験で、LOAM と LIO-SAM は強制的にリアルタイムで実行されます。 一方、LIOM には、すべてのセンサー測定を処理する無限の時間が与えられます。 すべてのメソッドは C++ で実装され、Ubuntu Linux のロボット オペレーティング システム (ROS) [24] を使用して Intel i7-10710U CPU を搭載したラップトップで実行されます。 並列計算を有効にせずに、CPU のみが計算に使用されることに注意してください。 LIO-SAM の実装は、Github 1 で無料で入手できます。 すべてのテストの完全な視覚化を含む、実行された実験の補足的な詳細は、以下のリンク ^2 で見つけることができます。<br>
<br>
 * 図 3 *<br>
<br>
[1](https://github.com/TixiaoShan/LIO-SAM)<br>
[2](https://youtu.be/A0H8CoORZJU)<br>
<br>
## A. 回転データセット
 このテストでは、IMU 事前統合と LIDAR オドメトリ ファクターのみがファクター グラフに追加された場合のフレームワークの堅牢性の評価に焦点を当てています。 回転データセットは、ユーザーがセンサー スイートを保持し、静止した状態で一連の積極的な回転操作を実行することによって収集されます。 このテストで遭遇した最大回転速度は 133.7 °/s です。 構造体が配置されたテスト環境を図 3(a) に示します。 LOAM と LIO-SAM から得られたマップをそれぞれ図 3(b) と (c) に示します。 LIOM は [25] と同じ初期化パイプラインを使用するため、視覚慣性 SLAM と同じ初期化感度を継承し、このデータセットを使用して適切に初期化することはできません。 意味のある結果が得られなかったため、LIOM のマップは表示されません。 示されているように、LIO-SAM のマップは、LOAM のマップと比較して、環境のより細かい構造の詳細を保存します。 これは、ロボットが急速に回転した場合でも、LIO-SAM が各 LIDAR フレームを SO(3) に正確に登録できるためです。<br>

## B. ウォーキング データセット
 このテストは、システムが SE(3) で積極的な変換と回転を受けるときのメソッドのパフォーマンスを評価するように設計されています。 このデータセットで発生する並進および回転の最大速度は、それぞれ 1.8 m/s および 213.9 °/s です。 データ収集中、ユーザーは図 2(a) に示すセンサー スイートを保持し、MIT キャンパスをすばやく歩きます (図 4(a))。 このテストでは、図 4(b) に示す LOAM のマップは、積極的な回転が発生したときに複数の場所で発散します。 このテストでは、LIOM が LOAM よりも優れています。 しかし、図 4(c) に示されているその地図は、依然としてさまざまな場所でわずかに発散しており、多数のぼやけた構造で構成されています。 LIOM はすべてのセンサー測定値を処理するように設計されているため、他の方法がリアルタイムで実行されている間、LIOM は 0.56 倍のリアルタイムでのみ実行されます。 最後に、LIO-SAM は両方の方法よりも優れており、利用可能な Google Earth 画像と一致するマップを生成します。<br>

## C. キャンパス データセット
<br>
 * 表 II *<br>
<br>
 このテストは、GPS とループ クロージャー ファクターを導入する利点を示すように設計されています。 これを行うために、グラフへの GPS およびループ クロージャー ファクターの挿入を意図的に無効にします。 GPS とループ クロージャー ファクターの両方が無効になっている場合、この方法は LIO-odom と呼ばれ、IMU 事前統合とライダー オドメトリー ファクターのみを利用します。 GPS 係数が使用される場合、私たちの方法は LIO-GPS と呼ばれ、IMU 事前統合、LIDAR オドメトリ、および GPS 係数を使用してグラフを作成します。 LIO-SAM は、可能な場合はすべての要素を使用します。 このデータセットを収集するために、ユーザーはハンドヘルド デバイスを使用して MIT キャンパスを歩き回り、同じ位置に戻ります。 マッピング エリアには数多くの建物や樹木が存在するため、GPS 受信はほとんど利用できず、ほとんどの場合不正確です。 一貫性のない GPS 測定値を除外した後、GPS が利用可能な地域が図 5(a) に緑色のセグメントとして表示されます。 これらの領域は、建物や樹木に囲まれていないいくつかの領域に対応しています。 LOAM、LIO-odom、LIO-GPS、LIO-SAM の推定軌道を図 5(a) に示す。 LIOM の結果は、適切に初期化して意味のある結果を生成できなかったため、表示されません。 示されているように、LOAM の軌跡は、他のすべての方法と比較すると大幅にドリフトします。 GPS データを修正しないと、LIO-odom の軌跡がマップの右下隅で目に見えてドリフトし始めます。 GPS データの助けを借りて、LIO-GPS はドリフトが利用可能な場合に修正できます。 ただし、データセットの後半部分では GPS データは利用できません。 その結果、ドリフトによりロボットが開始位置に戻ったときに、LIO-GPS はループを閉じることができません。 一方、LIO-SAM は、グラフにループ クロージャー ファクターを追加することで、ドリフトを解消できます。 LIO-SAM の地図は、Google Earth の画像とよく一致しており、図 5(b) に示されています。 ロボットが最初に戻るときのすべての方法の相対並進誤差を表 II に示します。<br>
<br>
 * 図 4 *<br>
<br>
## D.パークデータセット
 このテストでは、UGV にセンサーを取り付け、森林に覆われたハイキング トレイルに沿って車両を運転します。 ロボットは 40 分間の運転後に元の位置に戻ります。 UGV は、アスファルト、草で覆われた地面、土で覆われた小道の 3 つの路面を走行します。 サスペンションがないため、アスファルトではない道路を走行すると、ロボットは振幅は小さくても高周波の振動を受けます。<br>
 困難なマッピング シナリオを模倣するために、ロボットが広く開けたエリアにいる場合にのみ GPS 測定値を使用します。これは、図 6(a) の緑色のセグメントで示されます。 このようなマッピング シナリオは、ロボットが複数の GPS 拒否地域をマッピングし、ドリフトを修正するために GPS が利用可能な地域に定期的に戻る必要があるタスクを表しています。<br>
  以前のテストの結果と同様に、LOAM、LIOM、および LIO-odom は、絶対的な補正データが利用できないため、大きなドリフトに悩まされています。 さらに、LIOM は 0.67 倍のリアルタイムでのみ実行されますが、他の方法はリアルタイムで実行されます。 LIO-GPS と LIO-SAM の軌道は水平面で一致しますが、それらの相対的な並進誤差は異なります (表 II)。 信頼できる絶対標高測定値が利用できないため、LIO-GPS は高度のドリフトに悩まされ、ロボットの初期位置に戻るときにループを閉じることができません。 LIO-SAM では、ループ クロージャー ファクターを使用してドリフトを排除するため、このような問題はありません。<br>
<br>
## E. アムステルダム データセット
 最後に、センサー スイートをボートに搭載し、アムステルダムの運河を 3 時間クルーズしました。 このテストでは、センサーの動きは比較的スムーズですが、運河のマッピングは、いくつかの理由で依然として困難です。 運河に架かる橋の多くは、長くて特徴のない廊下を移動するのと同様に、ボートが橋の下にあるときに有用な機能がほとんどないため、退化したシナリオをもたらします。 地面が存在しないため、平面フィーチャの数も大幅に少なくなります。 直射日光がセンサーの視野内にある場合、ライダーから多くの誤検出が観察されます。これは、データ収集中の約 20% の時間で発生します。 また、頭上に橋や都市の建物があるため、断続的な GPS 受信しか得られません。<br>
 これらの課題により、LOAM、LIOM、および LIO-odom はすべて、このテストで意味のある結果を生成できません。 Park データセットで発生した問題と同様に、LIO-GPS は、高度のドリフトのためにロボットの初期位置に戻るときにループを閉じることができません。これが、LIO-SAM でループ クロージャー ファクターを使用する動機となっています。<br>

## F. ベンチマーク結果
<br>
 * 表 III *<br>
<br>
 完全な GPS カバレッジはパーク データセットでのみ利用できるため、グラウンド トゥルースとして扱われる GPS 測定履歴に対する二乗平均平方根誤差 (RMSE) の結果を示します。 この RMSE エラーは、z 軸に沿ったエラーを考慮していません。 表 III に示すように、LIO-GPS と LIO-SAM は、GPS グラウンド トゥルースに関して同様の RMSE エラーを達成します。 すべての GPS 測定値に完全にアクセスできるようにすることで、これら 2 つの方法の誤差を少なくとも 1 桁はさらに減らすことができることに注意してください。 ただし、多くのマッピング設定では、完全な GPS アクセスが常に利用できるとは限りません。 私たちの意図は、さまざまな困難な環境で動作できる堅牢なシステムを設計することです。<br>
 5 つのデータセットすべてで 1 つの LIDAR フレームを登録するための 3 つの競合する方法の平均実行時間を表 IV に示します。 すべてのテストを通じて、LOAM と LIO-SAM は強制的にリアルタイムで実行されます。 つまり、LIDAR の回転速度が 10Hz のときに実行時間が 100 ミリ秒を超えると、一部の LIDAR フレームがドロップされます。 LIOM には、すべての LIDAR フレームを処理するための無限の時間が与えられます。 示されているように、LIO-SAM は他の 2 つの方法よりも大幅に少ない実行時間を使用するため、低電力の組み込みシステムに展開するのにより適しています。<br>
 また、リアルタイムよりも高速にデータを供給することにより、LIO-SAM でストレス テストを実行します。 最大データ再生速度が記録され、表 IV の最後の列に示されています。LIO-SAM は、データ再生速度が 1x リアルタイムの場合の結果と比較して、失敗することなく同様のパフォーマンスを達成します。 示されているように、LIO-SAM はリアルタイムよりも最大 13 倍高速にデータを処理できます。<br>
 LIO-SAM の実行時間は、特徴マップの密度の影響を大きく受け、ファクター グラフのノード数とファクターの影響をあまり受けないことに注意してください。 たとえば、公園のデータセットは、植生によって大量のフィーチャが生成されるフィーチャが豊富な環境で収集されますが、アムステルダムのデータセットでは、よりまばらなフィーチャ マップが生成されます。 Park テストの因子グラフが 4,573 ノードと 9,365 因子で構成されているのに対し、Amsterdam テストのグラフは 23,304 ノードと 49,617 因子で構成されています。 それにもかかわらず、LIO-SAM は、パーク テストでの実行時間とは対照的に、アムステルダム テストでより少ない時間を使用します。<br>
<br>
 * 図 5 *<br>
 * 図 6 *<br>
 * 表 IV *<br>
<br>
## V. 結論と考察
 複雑な環境でリアルタイムの状態推定とマッピングを実行するために、スムージングとマッピングによる密結合ライダー慣性オドメトリのフレームワークである LIO-SAM を提案しました。 LIO-SAM は、ファクター グラフの上にライダー慣性オドメトリーを定式化することで、マルチセンサー フュージョンに特に適しています。 追加のセンサー測定値は、新しい要素としてフレームワークに簡単に組み込むことができます。 GPS、コンパス、または高度計などの絶対測定値を提供するセンサーを使用して、長時間にわたって蓄積される LIDAR 慣性オドメトリのドリフトを排除したり、機能が不十分な環境で使用したりできます。 場所認識も簡単にシステムに組み込むことができます。 システムのリアルタイム パフォーマンスを向上させるために、スキャン マッチングのために古いライダー フレームを無視するスライディング ウィンドウ アプローチを提案します。 キーフレームはファクター グラフに選択的に追加され、LIDAR オドメトリとループ クロージャー ファクターの両方が生成されると、新しいキーフレームは固定サイズのサブキーフレーム セットにのみ登録されます。 グローバル スケールではなくローカル スケールでのこのスキャン マッチングにより、LIO-SAM フレームワークのリアルタイム パフォーマンスが促進されます。 提案された方法は、さまざまな環境の 3 つのプラットフォームで収集されたデータセットで徹底的に評価されます。 結果は、LOAM および LIOM と比較した場合、LIO-SAM が同等またはそれ以上の精度を達成できることを示しています。 今後の作業には、提案されたシステムを無人航空機でテストすることが含まれます。<br>

